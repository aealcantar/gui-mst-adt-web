<app-alerta [objAlerta]="alert"></app-alerta>
<div style="margin-bottom: 1%"></div>
<app-tarjeta-presentacion></app-tarjeta-presentacion>
<ng-container *ngIf="datosGenerales == true">
  <app-card-template>
    <div header class="flex justify-content-between align-items-center nuevoEstudio">
      <span style="font-weight: 700; font-size: 24px; color: #222222; line-height: 29.16px;">
        Nuevo estudio social médico
      </span>
    </div>
    <div content class="content" style=" width: 1100px; height: auto;">
      <div class="contenido">
        <div class="contentHeader" style="display:flex;">
          <div content style="padding-bottom: 2.5%;">
            <div content class="content" style="border: 1px solid #CCCCCC ; width: 1090px;">
              <div class="contenido">
                <div class="row" style=" height: 11%; ">
                  <div header class="flex justify-content-between align-items-center col-md-6">
                    <label class="datos" style="line-height: 24px !important;">
                      1.-Datos generales
                    </label>
                  </div>
                  <div header class="flex justify-content-between align-items-center col-md-3"></div>
                  <div header class="flex justify-content-between align-items-center col-md-3 row"
                    style="text-align: right; margin-top: 10px;">
                    <div class="col-md-4" style=" height: 40px;">
                      <label style="margin-right: 6px; font-size: 14px; position: relative;">1</label>
                      <img src="../../assets/icons/circulo_verde.svg" alt="" style="width: 38px; height: 38px;">
                      <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                      <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                      <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                      <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                      <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                      <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.3px 0 0">
                      <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10.4px 0 0">
                      <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
                    </div>
                    <div class="col-md-4" style=" height: 40px;">
                      <label style="margin-right: 6px; font-size: 14px; position: relative;">2</label>
                      <img src="../../assets/icons/grisintenso.svg" alt="" style="width: 38px; height: 38px;">
                      <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                      <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                      <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                      <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                      <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                      <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.4px 0 0">
                      <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10.4px 0 0">
                      <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
                    </div>
                    <div class="col-md-4" style=" height: 40px;">
                      <label style="margin-right: 6px; font-size: 14px; position: relative;">3</label>
                      <img src="../../assets/icons/grisSutil.svg" alt="" style="width: 38px; height: 38px;">
                      <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                      <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                      <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                      <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                      <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                      <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.3px 0 0">
                      <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10px 0 0">
                      <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
                    </div>
                  </div>
                </div>
                <br>
                <div class="line63" style="border-bottom: black; margin-top: -9px !important;"></div>
                <div style="padding-bottom: 9px; padding-top: 9px;">
                  <span class="instrucciones">
                    Por favor capture los siguientes datos:
                  </span>
                </div>
                <form novalidate class="formInfo" [formGroup]="formEstudioSocial">
                  <div class="container" style="padding-right: 36px;">
                    <div class="flex" style="display:flex;">
                      <div class="divEstudioSolicitado form-group">
                        <span class="labels">Estudio solicitado por*:</span>
                        <br>
                        <input
                          [ngClass]="{'form-control-error': formEstudioSocial.controls?.solicitadoPor?.dirty && formEstudioSocial.controls?.solicitadoPor?.touched && formEstudioSocial.controls?.solicitadoPor?.error}"
                          class="form-control" id="solicitadoPor" formControlName="solicitadoPor"
                          placeholder="Ingresar nombre" type="text" maxlength="150">
                        <small
                          *ngIf="formEstudioSocial.controls?.solicitadoPor?.dirty && formEstudioSocial.controls?.solicitadoPor?.touched && formEstudioSocial.controls?.solicitadoPor?.error"
                          class="form-text form-text-error Campo-obligatorio" style="color: red;">
                          Campo obligatorio
                        </small>
                      </div>
                      <div class="divFechas datepicker-group">
                        <span class="labels" for="calendarCESM3">Fecha del estudio*:</span>
                        <input class="form-control" formControlName="fecha" id="calendarCESM3" type="text"
                          placeholder="dd/mm/aaaa">

                        <small *ngIf="
            formEstudioSocial.controls?.fecha?.dirty &&
            formEstudioSocial.controls?.fecha?.errors
          " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                          Campo obligatorio
                        </small>
                      </div>
                    </div>
                    <br>
                    <div class="line63-DatosG" style="border-bottom: black; margin-top: -1em !important;"></div>
                    <br>

                    <div class="row" style="margin-top: -0.8em !important;">
                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class=" form-group">
                          <span class="labels">Código Postal*:</span>
                          <input
                            [ngClass]="{'form-control-error':formEstudioSocial.controls?.cp?.dirty && formEstudioSocial.controls?.cp?.errors}"
                            class="form-control" id="cp" formControlName="cp" placeholder="Ingresar código postal" maxlength="10">
                          <small *ngIf="formEstudioSocial.controls?.cp?.dirty && formEstudioSocial.controls?.cp?.errors"
                            class="form-text form-text-error Campo-obligatorio" style="color: red;">
                            Campo obligatorio
                          </small>
                        </div>
                      </div>

                      <div class="col-md-4" style="margin-right: -23px; margin-top: 4px;">
                        <div class=" form-group">
                          <span class="labels">Estado*:</span>
                          <select class="select" formControlName="estado" (change)="onChangeEstado()">
                            <option class="select-font" [value]="''">Seleccionar estado</option>
                            <option class="select-font" [value]="estado.cve_estado" *ngFor="let estado of estados">
                              {{ estado.des_nombre_completo}}
                            </option>
                          </select>
                        </div>
                      </div>

                      <div class="col-md-4" style=" margin-top: 4px;">
                        <div class="form-group">
                          <span class="labels">Delegación/Municipio*:</span>
                          <select class="select" formControlName="municipio" (change)="onChangeCiudad()">
                            <option class="select-font" [value]="''" selected>Seleccionar delegación o municipio</option>
                            <option class="select-font" [value]="municipio.cve_delegacion_municipio"
                              *ngFor="let municipio of municipios">
                              {{ municipio.des_municipio}}
                            </option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4" style="margin-right: -23px; margin-top: 4px;">
                        <div class="form-group">
                          <span class="labels">Ciudad*:</span>
                          <br>
                          <select
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.ciudad?.dirty && formEstudioSocial.controls?.ciudad?.errors}"
                            class="form-control" id="ciudad" formControlName="ciudad">
                            <option [value]="''" selected>Ingresar ciudad</option>
                            <option class="select-font" [value]="ciudad.cve_ciudad" *ngFor="let ciudad of ciudades">
                              {{ ciudad.des_ciudad}}
                            </option>
                            <small
                              *ngIf="formEstudioSocial.controls?.ciudad?.dirty && formEstudioSocial.controls?.ciudad?.errors"
                              class="form-text form-text-error Campo-obligatorio" style="color: red;">
                              Campo obligatorio
                            </small>
                          </select>
                        </div>
                      </div>

                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class=" form-group">
                          <span class="labels">Colonia*:</span>
                          <br>
                          <input
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.colonia?.dirty && formEstudioSocial.controls?.colonia?.errors}"
                            class="form-control" id="colonia" formControlName="colonia" placeholder="Ingresar colonia"
                            type="text" maxlength="150">
                          <small
                            *ngIf="formEstudioSocial.controls?.colonia?.dirty && formEstudioSocial.controls?.colonia?.errors"
                            class="form-text form-text-error Campo-obligatorio" style="color: red;">
                            Campo obligatorio
                          </small>
                        </div>
                      </div>

                      <div class="col-md-4">
                        <div class="form-group">
                          <span class="labels">Calle*:</span>
                          <br>
                          <input
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.calle?.dirty && formEstudioSocial.controls?.calle?.errors}"
                            class="form-control" id="calle" formControlName="calle" placeholder="Ingresar calle"
                            type="text" maxlength="150">
                          <small
                            *ngIf="formEstudioSocial.controls?.calle?.dirty && formEstudioSocial.controls?.calle?.errors"
                            class="form-text form-text-error Campo-obligatorio" style="color: red;">
                            Campo obligatorio
                          </small>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class="form-group">
                          <span class="labels">Número exterior*:</span>
                          <br>
                          <input
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.numeroExt?.dirty && formEstudioSocial.controls?.numeroExt?.errors}"
                            class="form-control" id="numeroExt" formControlName="numeroExt"
                            placeholder="Ingresar número" type="text" maxlength="10">
                          <small
                            *ngIf=" formEstudioSocial.controls?.numeroExt?.dirty && formEstudioSocial.controls?.numeroExt?.errors"
                            class="form-text form-text-error Campo-obligatorio" style="color: red;">
                            Campo obligatorio
                          </small>
                        </div>
                      </div>
                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class="form-group">
                          <span class="labels">Número interior:</span>
                          <br>
                          <input class="form-control" id="numeroInt" formControlName="numeroInt"
                            placeholder="Ingresar número" maxlength="10">
                        </div>
                      </div>

                      <div class="col-md-4" style="margin-top: 4px;">
                        <div class="form-group">
                          <span class="labels">Tipo de comunidad*:</span>
                          <br>
                          <select
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.comunidad?.dirty && formEstudioSocial.controls?.comunidad?.errors}"
                            class="form-control" id="comunidad" formControlName="comunidad">
                            <option [value]="''" selected>Seleccionar comunidad</option>
                            <option class="select-font" [value]="comunidad.id" *ngFor="let comunidad of tiposComunidad">
                              {{ comunidad.descripcion }}
                            </option>
                            <small
                              *ngIf=" formEstudioSocial.controls?.comunidad?.dirty && formEstudioSocial.controls?.comunidad?.errors"
                              class="form-text form-text-error Campo-obligatorio" style="color: red;">
                              Campo obligatorio
                            </small>
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="row" style="height: 60px;">

                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class="form-group">
                          <span class="labels">Teléfono fijo:</span>
                          <br>
                          <input class="form-control" id="telefonoFijo" formControlName="telefonoFijo"
                            placeholder="Ingresar número" maxlength="10">
                        </div>
                      </div>
                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class="form-group">
                          <span class="labels">Teléfono celular:</span>
                          <br>
                          <input class="form-control" id="telefonoCelular" formControlName="telefonoCelular"
                            placeholder="Ingresar número" maxlength="10">
                        </div>
                      </div>

                      <div class="col-md-4">
                        <div class="form-group " autocomplete="off">
                          <span class="labels" for="email">Correo electrónico
                            <span class="form-text"
                              [ngClass]="{'form-text-error': formEstudioSocial.controls['email'].dirty && formEstudioSocial.controls['email'].errors}">
                            </span>:
                            <br>
                          </span>
                          <input type="email" formControlName="email" id="email" class="form-control" maxlength="50"
                            placeholder="Ingresar correo"
                            [ngClass]="{'form-control-error':formEstudioSocial.controls?.email?.dirty && formEstudioSocial.controls?.email?.errors}"
                            pattern="[a-zA-Z0-9!#$%&'+-]([\.]?[a-zA-Z0-9_!#$%&'+-])+@[a-zA-Z0-9]([^@&%$\/()=?¿!.,:;]|\d)+[a-zA-Z0-9][\.][a-zA-Z]{2,4}([\.][a-zA-Z]{2})?"
                            placeholder="Ingresar correo electrónico" maxlength="100" />
                          <small
                            *ngIf="formEstudioSocial.controls?.email?.dirty && formEstudioSocial.controls?.email?.errors"
                            class="form-text form-text-error Campo-obligatorio">
                            {{formEstudioSocial.controls?.email?.errors?.required == true ? "Campo obligatorio" : ""}}
                            {{formEstudioSocial.controls?.email?.errors?.pattern? "Formato inválido" : ""}}
                          </small>
                        </div>
                      </div>

                    </div>

                    <div class="row">
                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class="form-group">
                          <span class="labels">Estado civil*:</span>
                          <br>
                          <select
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.estadoCivil?.dirty && formEstudioSocial.controls?.estadoCivil?.errors}"
                            class="form-control" id="estadoCivil" formControlName="estadoCivil">
                            <option [value]="''" selected>Seleccionar estado civil</option>
                            <option class="select-font" [value]="estadoCivil.id"
                              *ngFor="let estadoCivil of estadosCiviles">
                              {{ estadoCivil.descripcion }}
                            </option>
                          </select>
                          <small
                            *ngIf=" formEstudioSocial.controls?.estadoCivil?.dirty && formEstudioSocial.controls?.estadoCivil?.errors"
                            class="form-text form-text-error Campo-obligatorio" style="color: red;">
                            Campo obligatorio
                          </small>
                        </div>
                      </div>
                      <div class="col-md-4" style="margin-right: -23px;">
                        <div class="form-group">
                          <span class="labels">Ocupación*:</span>
                          <br>
                          <select class="select" formControlName="ocupacion"
                            [ngClass]="{'form-control-error': formEstudioSocial.controls?.ocupacion?.dirty && formEstudioSocial.controls?.ocupacion?.errors}">
                            <option [value]="''" selected>Ingresar ocupación</option>
                            <option class="select-font" [value]="ocupacion.id_OCUPACION"
                              *ngFor="let ocupacion of ocupaciones">
                              {{ ocupacion.nom_OCUPACION }}
                            </option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-4" style="margin-right: -23px;">
                      </div>
                    </div>
                    <div style="height:12px;"><span class="instrucciones label-obligatorios">*Campos obligatorios</span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-4"
                      style="padding-top: 19px; padding-right: 24px;  margin-top: -1.4%; text-align: left;">
                    </div>
                    <div class="col-md-4"
                      style="padding-top: 19px; padding-right: 24px;  margin-top: 0.4%; text-align: center;">
                      <img src="url('../../../../assets/icons/menorqueBloqueado.svg" alt="" style="margin-right: 5px; ">
                      <label style="font-size: 14px; font-weight: 500;  color: #CFCFCF"> Atrás </label>
                      <img src="url('../../../../assets/icons/circulo_verde.svg" alt="" style="margin-left: 9px;">
                      <img src="url('../../../../assets/icons/1.svg" alt="" style="margin-left: -18px;">
                    </div>
                    <div class="col-md-4" style="padding-top: 29px; padding-right: 17px;  margin-top: -1.4%;">
                      <button type="button" (click)="irDatosDeFamiliar()" class="btn btn-primary buttonL"
                        style="float: right;border: solid 1px #9d2449;" [disabled]="!formEstudioSocial.valid">
                        Siguiente
                      </button>
                      <button type="button" class="btn btn-danger buttonL" (click)="modalcarga()"
                        style="float: right; border: solid 1px #b38e5d;">
                        Cancelar
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </app-card-template>
</ng-container>

<ng-container>
  <ng-container *ngIf="datosFamiliar == true">
    <app-card-template>
      <div header class="flex justify-content-between align-items-center consultaCronicasGrupales">
        <span style="font-weight: 700; font-size: 24px; color: #222222; line-height: 29.16px;">
          Nuevo estudio social médico
        </span>
      </div>

      <div content style="padding-bottom: 1.5%;">
        <div class="Rectangle-306" style="background-color: white; padding-bottom: 1.5%;">
          <div class="row" style=" height: 11%; ">
            <div header class="flex justify-content-between align-items-center col-md-6" style="margin-bottom: 1em;">
              <label class="datos">
                2.- Datos de familiar / responsable
              </label>
            </div>
            <div header class="flex justify-content-between align-items-center col-md-3"></div>
            <div header class="flex justify-content-between align-items-center col-md-3 row"
              style="text-align: right; margin-top: 10px;">
              <div class="col-md-4" style=" height: 40px;">
                <label style="margin-right: 6px; font-size: 14px; position: relative;">1</label>
                <img src="../../assets/icons/grisintenso.svg" alt="" style="width: 38px; height: 38px;">
                <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.3px 0 0">
                <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10.4px 0 0">
                <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
              </div>
              <div class="col-md-4" style=" height: 40px;">
                <label style="margin-right: 6px; font-size: 14px; position: relative;">2</label>
                <img src="../../assets/icons/circulo_verde.svg" alt="" style="width: 38px; height: 38px;">
                <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.4px 0 0">
                <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10.4px 0 0">
                <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
              </div>
              <div class="col-md-4" style=" height: 40px;">
                <label style="margin-right: 6px; font-size: 14px; position: relative;">3</label>
                <img src="../../assets/icons/grisSutil.svg" alt="" style="width: 38px; height: 38px;">
                <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.3px 0 0">
                <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10px 0 0">
                <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
              </div>
            </div>
          </div>

          <div style="width: 464px; background-color:#DBDBDC; height: 1px;"></div>
          <div style="padding-bottom: 9px; padding-top: 9px;">
            <span class="instrucciones">
              Por favor capture los siguientes datos:
            </span>
          </div>
          <form novalidate class="formInfo" [formGroup]="formEstudioSocial2">
            <div style="width: 100%; height: 57%;">

              <div class="row" style="margin: 0 -4px 0 -4px;">
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Nombre de familiar o persona responsable*:
                    </label>
                    <input [ngClass]="{
                      'form-control-error':
                        formEstudioSocial2.controls?.nombreFamiliar?.dirty &&
                        formEstudioSocial2.controls?.nombreFamiliar?.errors
                    }" class="form-control" id="nombreFamiliar" formControlName="nombreFamiliar"
                      placeholder="Ingresar nombre" type="text" maxlength="50" />
                    <small *ngIf="
                  formEstudioSocial2.controls?.nombreFamiliar?.dirty &&
                  formEstudioSocial2.controls?.nombreFamiliar?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Edad*:
                    </label>
                    <input [ngClass]="{
                      'form-control-error':
                        formEstudioSocial2.controls?.edad?.dirty &&
                        formEstudioSocial2.controls?.edad?.errors
                    }" class="form-control" id="edad" formControlName="edad" placeholder="Ingresar edad" type="text" maxlength="3" numbersOnly />
                    <small *ngIf="
                  formEstudioSocial2.controls?.edad?.dirty &&
                  formEstudioSocial2.controls?.edad?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Parentesco*:
                    </label>
                    <input [ngClass]="{
                      'form-control-error':
                        formEstudioSocial2.controls?.parentesco?.dirty &&
                        formEstudioSocial2.controls?.parentesco?.errors
                    }" class="form-control" id="parentesco" formControlName="parentesco"
                      placeholder="Ingresar parentesco" type="text" maxlength="100" />
                    <small *ngIf="
                  formEstudioSocial2.controls?.parentesco?.dirty &&
                  formEstudioSocial2.controls?.parentesco?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

              </div>
              <div class="row" style="margin: 0 -4px 0 -4px;">
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Código postal*:
                    </label>
                    <input [ngClass]="{
                      'form-control-error':
                        formEstudioSocial2.controls?.codigoP?.dirty &&
                        formEstudioSocial2.controls?.codigoP?.errors
                    }" class="form-control" id="codigoP" formControlName="codigoP" placeholder="Ingresar Código postal"
                      type="text" maxlength="10" />
                    <small *ngIf="
                  formEstudioSocial2.controls?.codigoP?.dirty &&
                  formEstudioSocial2.controls?.codigoP?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4" style="margin-top: 4px;">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Estado*:
                    </label>
                    <select class="select" formControlName="estadoF" (change)="onChangeEstadoFamiliar()">
                      <option class="select-font" [value]="''">Seleccionar estado</option>
                      <option class="select-font" [value]="estadoF.cve_estado" *ngFor="let estadoF of estadosFamiliar">
                        {{ estadoF.des_nombre_completo}}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="col-md-4" style="margin-top: 4px;">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Delegación/Municipio*:
                    </label>
                    <select class="select" formControlName="delegacionM" (change)="onChangeMunicipioFamiliar()">
                      <option class="select-font" [value]="''" selected>Seleccionar delegación o municipio</option>
                      <option class="select-font" [value]="delegacion.cve_delegacion_municipio"
                        *ngFor="let delegacion of delegaciones">
                        {{ delegacion.des_municipio}}
                      </option>
                    </select>

                    <small *ngIf="
                  formEstudioSocial2.controls?.delegacion?.dirty &&
                  formEstudioSocial2.controls?.delegacion?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

              </div>

              <div class="row" style="margin: 0 -4px 0 -4px;">
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Ciudad*:
                    </label>
                    <select
                      [ngClass]="{'form-control-error': formEstudioSocial2.controls?.ciudadF?.dirty && formEstudioSocial2.controls?.ciudadF?.errors}"
                      class="form-control" id="ciudadF" formControlName="ciudadF">
                      <option value="Seleccionar ciudad" [value]="''" selected>Ingresar ciudad</option>
                      <option class="select-font" [value]="ciudadF.cve_ciudad" *ngFor="let ciudadF of ciudadesFamiliar">
                        {{ ciudadF.des_ciudad}}
                      </option>
                      <small
                        *ngIf=" formEstudioSocial2.controls?.ciudadF?.dirty && formEstudioSocial2.controls?.ciudadF?.errors"
                        class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </select>
                    <small
                      *ngIf=" formEstudioSocial2.controls?.ciudadF?.dirty && formEstudioSocial2.controls?.ciudadF?.errors"
                      class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Colonia*:
                    </label>
                    <input [ngClass]="{
                  'form-control-error':
                    formEstudioSocial2.controls?.coloniaF?.dirty &&
                    formEstudioSocial2.controls?.coloniaF?.errors
                }" class="form-control" id="coloniaF" formControlName="coloniaF" placeholder="Ingresar colonia"
                      type="text" maxlength="150" />
                    <small *ngIf="
              formEstudioSocial2.controls?.coloniaF?.dirty &&
              formEstudioSocial2.controls?.coloniaF?.errors
            " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Calle*:
                    </label>
                    <input [ngClass]="{
                      'form-control-error':
                        formEstudioSocial2.controls?.calleF?.dirty &&
                        formEstudioSocial2.controls?.calleF?.errors
                    }" class="form-control" id="calleF" formControlName="calleF" placeholder="Ingresar calle"
                      type="text" maxlength="150" />
                    <small *ngIf="
                  formEstudioSocial2.controls?.calleF?.dirty &&
                  formEstudioSocial2.controls?.calleF?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>
              </div>

              <div class="row" style="margin: 0 -4px 0 -4px;">
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label tituloInput">
                      Número exterior*:
                    </label>
                    <input [ngClass]="{
                      'form-control-error':
                        formEstudioSocial2.controls?.numExtF?.dirty &&
                        formEstudioSocial2.controls?.numExtF?.errors
                    }" class="form-control" id="numExtF" formControlName="numExtF"
                      placeholder="Ingresar número exterior" type="text" maxlength="10" />
                    <small *ngIf="
                  formEstudioSocial2.controls?.numExtF?.dirty &&
                  formEstudioSocial2.controls?.numExtF?.errors
                " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group ">
                    <label class="control-label tituloInput">
                      Número interior:
                    </label>
                    <input [ngClass]="{
                  'form-control-error':
                    formEstudioSocial2.controls?.numIntF?.dirty &&
                    formEstudioSocial2.controls?.numIntF?.errors
                }" class="form-control" id="numIntF" formControlName="numIntF" placeholder="Ingresar número interior"
                      type="text" maxlength="10" />
                    <small *ngIf="
              formEstudioSocial2.controls?.numIntF?.dirty &&
              formEstudioSocial2.controls?.numIntF?.errors
            " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>

                <div class="col-md-4">
                </div>
              </div>
              <div class="row" style="margin: 0 -4px 0 -4px;">
                <div class="col-md-4">
                  <div class="form-group" style="margin-bottom: 15px!important">
                    <label class="control-label tituloInput">
                      Teléfono fijo:
                    </label>
                    <input [ngClass]="{
                  'form-control-error':
                    formEstudioSocial2.controls?.telFijo?.dirty &&
                    formEstudioSocial2.controls?.telFijo?.errors
                }" class="form-control" id="telFijo" formControlName="telFijo" placeholder="Ingresar teléfono fijo"
                      type="text" maxlength="10" />
                    <small *ngIf="
              formEstudioSocial2.controls?.telFijo?.dirty &&
              formEstudioSocial2.controls?.telFijo?.errors
            " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <label class="control-label tituloInput">
                      Teléfono celular:
                    </label>
                    <input [ngClass]="{
                  'form-control-error':
                    formEstudioSocial2.controls?.telCel?.dirty &&
                    formEstudioSocial2.controls?.telCel?.errors
                }" class="form-control" id="telCel" formControlName="telCel" placeholder="Ingresar teléfono celular"
                      type="text" maxlength="10" />
                    <small *ngIf="
              formEstudioSocial2.controls?.telCel?.dirty &&
              formEstudioSocial2.controls?.telCel?.errors
            " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                      Campo obligatorio
                    </small>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group " autocomplete="off">
                    <span class="labels" for="correoF">Correo electrónico
                      <span class="form-text"
                        [ngClass]="{'form-text-error': formEstudioSocial2.controls['correoF'].dirty && formEstudioSocial2.controls['correoF'].errors}">
                      </span>:
                      <br>
                    </span>
                    <input type="email" formControlName="correoF" id="correoF" class="form-control" maxlength="50"
                      placeholder="Ingresar correo"
                      [ngClass]="{'form-control-error':formEstudioSocial2.controls?.correoF?.dirty && formEstudioSocial2.controls?.correoF?.errors}"
                      pattern="[a-zA-Z0-9!#$%&'+-]([\.]?[a-zA-Z0-9_!#$%&'+-])+@[a-zA-Z0-9]([^@&%$\/()=?¿!.,:;]|\d)+[a-zA-Z0-9][\.][a-zA-Z]{2,4}([\.][a-zA-Z]{2})?"
                      placeholder="Ingresar correo electrónico" maxlength="100" />
                    <small
                      *ngIf="formEstudioSocial2.controls?.correoF?.dirty && formEstudioSocial2.controls?.correoF?.errors"
                      class="form-text form-text-error Campo-obligatorio">
                      {{formEstudioSocial2.controls?.correoF?.errors?.required == true ? "Campo obligatorio" : ""}}
                      {{formEstudioSocial2.controls?.correoF?.errors?.pattern? "Formato inválido" : ""}}
                    </small>
                  </div>
                </div>
              </div>
            </div>
            <div style="padding-bottom: 9px; padding-top: 3px;">
              <span class="instrucciones label-obligatorios" style="margin-left: 1em !important;">
                *Campos obligatorios
              </span>
            </div>
          </form>

          <div style="width: 100%; height: 14%; ">
            <div class="row">
              <div class="col-md-4"
                style="padding-top: 19px; padding-right: 24px;  margin-top: -1.4%; text-align: center;">

              </div>
              <div class="col-md-4"
                style="padding-top: 19px; padding-right: 24px;  margin-top: 0.4%; text-align: center;">
                <img src="url('../../../../assets/icons/menor_que.svg" alt=""
                  style="margin-right: 5px; cursor: pointer;" (click)="irDatosGenerales()">
                <label style="font-size: 14px; font-weight: 500; cursor: pointer;" (click)="irDatosGenerales()"> Atrás
                </label>
                <img src="url('../../../../assets/icons/circulo_verde.svg" alt="" style="margin-left: 9px;">
                <img src="url('../../../../assets/icons/2.svg" alt="" style="margin-left: -18px;">
              </div>
              <div class="col-md-4" style="padding-top: 19px; padding-right: 24px;  margin-top: -1.4%;">
                <button (click)="irExploracionCaso()" [disabled]="!formEstudioSocial2.valid"
                  class="btn btn-primary buttonL" style="float: right;border: solid 1px #9d2449;">
                  Siguiente
                </button>
                <button type="button" class="btn btn-danger buttonL" style="float: right; border: solid 1px #b38e5d;"
                  (click)="modalcarga()">
                  Cancelar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </app-card-template>
  </ng-container>

  <ng-container>
    <ng-container *ngIf="datosExploracionCaso == true">
      <app-card-template>
        <div header class="flex justify-content-between align-items-center consultaCronicasGrupales">
          <span style="font-weight: 700; font-size: 24px; color: #222222; line-height: 29.16px;">
            Nuevo estudio social médico
          </span>
        </div>
        <div content style="padding-bottom: 2.5%; height: 100%;">
          <div class="Rectangle-306-2" style="background-color: white">
            <div class="row" style=" height: 9%; ">
              <div header class="flex justify-content-between align-items-center col-md-6">
                <div style="padding-bottom: 9px; padding-top: 9px;">
                  <label class="datos">
                    3.- Datos de exploración del caso
                  </label>
                </div>
              </div>
              <div header class="flex justify-content-between align-items-center col-md-3"></div>
              <div header class="flex justify-content-between align-items-center col-md-3 row"
                style="text-align: right; margin-top: 10px;">
                <div class="col-md-4" style=" height: 40px;">
                  <label style="margin-right: 6px; font-size: 14px; position: relative;">1</label>
                  <img src="../../assets/icons/grisintenso.svg" alt="" style="width: 38px; height: 38px;">
                  <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                  <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                  <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                  <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                  <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                  <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.3px 0 0">
                  <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10.4px 0 0">
                  <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
                </div>
                <div class="col-md-4" style=" height: 40px;">
                  <label style="margin-right: 6px; font-size: 14px; position: relative;">2</label>
                  <img src="../../assets/icons/grisSutil.svg" alt="" style="width: 38px; height: 38px;">
                  <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                  <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                  <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                  <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                  <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                  <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.4px 0 0">
                  <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10.4px 0 0">
                  <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
                </div>
                <div class="col-md-4" style=" height: 40px;">
                  <label style="margin-right: 6px; font-size: 14px; position: relative;">3</label>
                  <img src="../../assets/icons/circulo_verde.svg" alt="" style="width: 38px; height: 38px;">
                  <img src="../../assets/icons/dobles.svg" alt="" style="margin: -17px 0 0 -15px;  ">
                  <img src="../../assets/icons/oja.svg" alt="" style="margin: -51px 0 0 29px">
                  <img src="../../assets/icons/linea3.svg" alt="" style="margin: -220px -0.1px 0 0">
                  <img src="../../assets/icons/linea2.svg" alt="" style="margin: -213.8px 12px 0 -10px">
                  <img src="../../assets/icons/linea1.svg" alt="" style="margin: -207px 9px 0 -19px">
                  <img src="../../assets/icons/goma.svg" alt="" style="margin: -219px -4.3px 0 0">
                  <img src="../../assets/icons/fierrogoma.svg" alt="" style="margin: -217px -10px 0 0">
                  <img src="../../assets/icons/lapizcorrecto.svg" alt="" style="margin: -210px 5px 0 0">
                </div>
              </div>
            </div>

            <div style="width: 494px; background-color:#DBDBDC; height: 1px; margin-top: 0.8em !important;
        margin-bottom: 1em !important;"></div>

            <span class="instrucciones-step">
              Por favor capture los siguientes datos:
            </span>

            <div style="width: 100%; height: 56%;">
              <form novalidate class="formInfo" [formGroup]="formEstudioSocial3">
                <!-- <div class="row" style="margin: 0 4px 0 -4px;"> -->
                <div class="row" style="margin-left: 8px;">
                  <div class="col-md-6">
                    <div class="form-group" style="float: inline-start; width: 300px;">
                      <label class="control-label tituloInput">
                        Objetivo del estudio*:
                      </label>
                      <textarea
                        [ngClass]="{'form-control-error':formEstudioSocial3.controls?.objetivoEstudio?.dirty && formEstudioSocial3.controls?.objetivoEstudio?.errors}"
                        class="form-control matricula inputs3" id="objetivoEstudio" formControlName="objetivoEstudio"
                        placeholder="Ingresar objetivo" #objetivosRef maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ objetivosRef.value?.length }} /
                        {{ objetivosRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.objetivoEstudio?.dirty &&
                    formEstudioSocial3.controls?.objetivoEstudio?.errors "
                        class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>

                  <div class="col-md-6 form-group">
                    <div class="form-group" style="float:inline-end ; width: 200 px;">
                      <label class="control-label tituloInput">
                        Datos del paciente*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                    formEstudioSocial3.controls?.datosPaciente?.dirty &&
                    formEstudioSocial3.controls?.datosPaciente?.errors
                  }" class="form-control matricula inputs3" id="datosPaciente" formControlName="datosPaciente"
                        placeholder="Ingresar datos del paciente" #datosPacienteRef maxlength="2000" required
                        rows="4"></textarea>
                      <span class="caracteres">{{ datosPacienteRef.value?.length }} /
                        {{ datosPacienteRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.datosPaciente?.dirty &&
                    formEstudioSocial3.controls?.datosPaciente?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>
                </div>

                <div class="row" style="margin-left: 8px;">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Datos familiares*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                    formEstudioSocial3.controls?.datosFamiliares?.dirty &&
                    formEstudioSocial3.controls?.datosFamiliares?.errors
                  }" class="form-control matricula inputs3" id="datosFamiliares"
                        placeholder="Ingresar datos familiares" formControlName="datosFamiliares" #datosFamiliaresRef
                        maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosFamiliaresRef.value?.length }} /
                        {{ datosFamiliaresRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.datosFamiliares?.dirty &&
                    formEstudioSocial3.controls?.datosFamiliares?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Datos económicos*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                    formEstudioSocial3.controls?.datosEconomicos?.dirty &&
                    formEstudioSocial3.controls?.datosEconomicos?.errors
                  }" class="form-control matricula inputs3" id="datosEconomicos"
                        placeholder="Ingresar datos económicos" formControlName="datosEconomicos" #datosEconomicosRef
                        maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosEconomicosRef.value?.length }} /
                        {{ datosEconomicosRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.datosEconomicos?.dirty &&
                    formEstudioSocial3.controls?.datosEconomicos?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>
                </div>
                <div class="row" style="margin-left: 8px;">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Condiciones del hogar*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                    formEstudioSocial3.controls?.datosHogar?.dirty &&
                    formEstudioSocial3.controls?.datosHogar?.errors
                  }" class="form-control matricula inputs3" id="datosHogar"
                        placeholder="Ingresar condiciones del hogar" formControlName="datosHogar" #datosHogarRef
                        maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosHogarRef.value?.length }} /
                        {{ datosHogarRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.datosHogar?.dirty &&
                    formEstudioSocial3.controls?.datosHogar?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Datos complementarios*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                    formEstudioSocial3.controls?.datosComplementarios?.dirty &&
                    formEstudioSocial3.controls?.datosComplementarios?.errors
                  }" class="form-control matricula inputs3" id="datosComplementarios"
                        placeholder="Ingresar datos complementarios" formControlName="datosComplementarios"
                        #datosComplementariosRef maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosComplementariosRef.value?.length }} /
                        {{ datosComplementariosRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.datosComplementarios?.dirty &&
                    formEstudioSocial3.controls?.datosComplementarios?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>
                </div>
                <div class="row" style="margin-left: 8px;">
                  <!-- <div class="row" style="margin: 0 -4px 0 -4px;"> -->
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Diagnóstico social del paciente*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                    formEstudioSocial3.controls?.datosSocialP?.dirty &&
                    formEstudioSocial3.controls?.datosSocialP?.errors
                  }" class="form-control matricula inputs3" id="datosSocialP"
                        placeholder="Ingresar diagnóstico social del paciente" formControlName="datosSocialP"
                        #datosSocialPRef maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosSocialPRef.value?.length }} /
                        {{ datosSocialPRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                    formEstudioSocial3.controls?.datosSocialP?.dirty &&
                    formEstudioSocial3.controls?.datosSocialP?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Diagnóstico social de la familia*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                      formEstudioSocial3.controls?.datosSocialF?.dirty &&
                      formEstudioSocial3.controls?.datosSocialF?.errors
                  }" class="form-control matricula inputs3" id="datosSocialF"
                        placeholder="Ingresar diagnóstico social de la familia" formControlName="datosSocialF"
                        #datosSocialFRef maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosSocialFRef.value?.length }} /
                        {{ datosSocialFRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                formEstudioSocial3.controls?.datosSocialF?.dirty &&
                formEstudioSocial3.controls?.datosSocialF?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>
                </div>
                <div class="row" style="margin-left: 8px;">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Plan de tratamiento social*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                      formEstudioSocial3.controls?.datosTratamiento?.dirty &&
                      formEstudioSocial3.controls?.datosTratamiento?.errors
                  }" class="form-control matricula inputs3" id="datosTratamiento"
                        placeholder="Ingresar plan de tratamiento social" formControlName="datosTratamiento"
                        #datosTratamientoRef maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosTratamientoRef.value?.length }} /
                        {{ datosTratamientoRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                formEstudioSocial3.controls?.datosTratamiento?.dirty &&
                formEstudioSocial3.controls?.datosTratamiento?.errors
              " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="form-group">
                      <label class="control-label tituloInput">
                        Acciones realizadas*:
                      </label>
                      <textarea [ngClass]="{
                    'form-control-error':
                      formEstudioSocial3.controls?.datosAcciones?.dirty &&
                      formEstudioSocial3.controls?.datosAcciones?.errors
                  }" class="form-control matricula inputs3" id="datosAcciones"
                        placeholder="Ingresar acciones realizadas" formControlName="datosAcciones" #datosAccionesRef
                        maxlength="2000" required rows="4"></textarea>
                      <span class="caracteres">{{ datosAccionesRef.value?.length }} /
                        {{ datosAccionesRef.getAttribute("maxlength") }} caracteres</span>
                      <br>
                      <small *ngIf="
                        formEstudioSocial3.controls?.datosAcciones?.dirty &&
                        formEstudioSocial3.controls?.datosAcciones?.errors
                      " class="form-text form-text-error Campo-obligatorio" style="color: red;">
                        Campo obligatorio
                      </small>
                    </div>
                  </div>
                  <div style="padding-bottom: 9px; padding-top: 3px;">
                    <span class="instrucciones label-obligatorios" style="margin-left: 1.1em !important;">
                      *Campos obligatorios
                    </span>
                  </div>
                </div>
              </form>
            </div>
            <div class="row" style="margin-bottom: 25px;">
              <div class="col-md-4">
              </div>
              <div class="col-md-4" style="text-align: center;">
                <img src="url('../../../../assets/icons/menor_que.svg" alt=""
                  style="margin-right: 5px; cursor: pointer;" (click)="irDatosDeFamiliar()">
                <label style="font-size: 14px; font-weight: 500; cursor: pointer;" (click)="irDatosDeFamiliar()"> Atrás
                </label>

                <img src="url('../../../../assets/icons/circulo_verde.svg" alt="" style="margin-left: 9px;">
                <img src="url('../../../../assets/icons/3.svg" alt="" style="margin-left: -18px;">
              </div>
              <div class="col-md-4">
                <button class="btn btn-primary buttonL" style="float: right;border: solid 1px #9d2449;"
                  (click)="guardarEstudioSocial()" [disabled]="!formEstudioSocial3.valid">
                  Guardar
                </button>
                <button type="button" class="btn btn-danger buttonL" style="float: right; border: solid 1px #b38e5d;"
                  (click)="modalcarga()">
                  Cancelar
                </button>
              </div>
            </div>
          </div>
        </div>
      </app-card-template>
    </ng-container>

    <div class="modal fade" role="dialog" id="content" #content>
      <div class="modal-dialog" role="document">
        <div class="modal-content" style="border: 1px solid #CCCCCC ;
    box-shadow: 0px 4px 14px rgba(0, 0, 0, 0.16); border-radius: 10px;">
          <div class="modal-header text-center" fxLayoutAlign="space-between center" fxLayout="column" style="border: 1px solid #CCCCCC ; border-bottom: 1px;
      border-radius: 10px 10px 0 0;">
            <img src="../../../../assets/images/Group 2082.png" class="Group-2082" alt="">
            <div class="modal-title Atencin">Atención</div>
          </div>
          <div class="line62" style="border-bottom: black;"></div>
          <div class="col-md12" style="text-align: center; margin-top: 5%; height: 80px;">

            <label class="tituloModal" style="font-weight: 500; font-size: 24px;
          line-height: 21.94px; text-align: center;">¿Desea salir sin guardar</label>
            <br>
            <label style="font-weight: 500; font-size: 24px;
          line-height: 21.94px; text-align: center;"> los cambios?</label>

          </div>
          <div class="col-md12 row" style="width:495px; height: 118px; text-align: center; margin: auto;
          padding: 15px; background-color: #FAFAFA; border-radius: 10px;">

            <div class="col-md10" width="495px" height="118px" aling="center" style="padding-right: 20%;">
              <button type="button" (click)="salirModal()" class="btn btn-primary buttonL"
                style="float: right; border: solid 1px #9d2449">
                Aceptar
              </button>
              <button type="button" class="btn btn-danger buttonL" style="float: right; border: solid 1px #b38e5d;"
                (click)="cancelarModal()">
                Cancelar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <app-info-bottom></app-info-bottom>
